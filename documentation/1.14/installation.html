<!doctype html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#4188c9">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="robots" content="index,follow">
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.kimai.org/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.kimai.org/images/icon_32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.kimai.org/images/icon_16x16.png">
    <title>Installation – Kimai</title>
    <meta name="description" content="How to install Kimai on your server with git, composer and SSH or FTP">
    <meta property="og:description" content="How to install Kimai on your server with git, composer and SSH or FTP">
    <meta name="twitter:description" content="How to install Kimai on your server with git, composer and SSH or FTP">
    <link type="application/atom+xml" rel="alternate" href="https://www.kimai.org/feed.xml" title="Kimai Time-Tracking" />
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Kimai Time-Tracking">
    <meta property="og:image" content="https://www.kimai.org/images/social-preview.webp">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Kimai Time-Tracking">
    <meta name="twitter:site" content="@kimai_org">
    <meta name="twitter:image" content="https://www.kimai.org/images/social-preview.webp">
    <link rel="canonical" href="https://www.kimai.org/documentation/installation.html" />
    <link href="/assets/build/main.css?v6" rel="stylesheet" />
</head>
<body class="">











<header class="header navbar navbar-expand bg-light border-bottom border-light shadow fixed-top" data-scroll-header>
    <div class="container-fluid pe-lg-4">
        <div class="d-flex align-items-center">
            <a href="/" class="navbar-brand flex-shrink-0 py-1 py-lg-2">
                <img src="/images/apple-touch-icon.png" width="32" alt="Kimai logo" class="me-2">
                Kimai Docs
            </a>
            <span class="badge bg-warning">On-Premise</span>
        </div>
        <div class="d-flex align-items-center w-100">
            <ul class="navbar-nav d-none d-lg-flex" style="padding-left: 6.75rem;">
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-manual.html" class="nav-link ">
                            <i class="bx bx-book opacity-70 fs-lg me-1"></i>
                            User manual
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/cloud.html" class="nav-link ">
                            <i class="bx bx-cloud opacity-70 fs-lg me-1"></i>
                            Kimai-Cloud
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-on-premise.html" class="nav-link  active">
                            <i class="bx bx-server opacity-70 fs-lg me-1"></i>
                            On-Premise
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-developer.html" class="nav-link ">
                            <i class="bx bx-code-alt opacity-70 fs-lg me-1"></i>
                            Developer
                        </a>
                    </li>
                
            </ul>
            <button type="button" class="navbar-toggler d-block d-lg-none ms-auto me-4" data-bs-toggle="offcanvas" data-bs-target="#componentsNav" aria-controls="componentsNav" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<aside class="bg-dark">
    <div id="componentsNav" class="offcanvas-lg offcanvas-start d-flex flex-column position-fixed top-0 start-0 vh-100 bg-dark border-end-lg" style="width: 19rem; z-index: 1045;">
        <div class="offcanvas-header d-none d-lg-flex justify-content-start">
            <a href="/" class="navbar-brand d-none d-lg-flex py-0">
                <img src="/images/apple-touch-icon.png" width="26" alt="Kimai logo" class="me-3">
                Kimai Docs
            </a>
        </div>
        <div class="offcanvas-header d-block d-lg-none border-bottom">
            <div class="d-flex align-items-center justify-content-between mb-3">
                <h5 class="d-lg-none mb-0">Menu</h5>
                <button type="button" class="btn-close d-lg-none" data-bs-dismiss="offcanvas" data-bs-target="#componentsNav" aria-label="Close"></button>
            </div>
            <div class="list-group list-group-flush mx-n4">
                
                    
                    
                    <a href="/documentation/chapter-manual.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-book opacity-70 me-1"></i>
                        User manual
                    </a>
                
                    
                    
                    <a href="/documentation/cloud.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-cloud opacity-70 me-1"></i>
                        Kimai-Cloud
                    </a>
                
                    
                    
                    <a href="/documentation/chapter-on-premise.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-server opacity-70 me-1"></i>
                        On-Premise
                    </a>
                
                    
                    
                    <a href="/documentation/chapter-developer.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-code-alt opacity-70 me-1"></i>
                        Developer
                    </a>
                
            </div>
        </div>
        <div class="offcanvas-body overflow-scroll w-100 p-4">
            <div class="h-auto docsnavi">
                
                    
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Cloud setups</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/hosting-hetzner-cloud.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-hosting-hetzner-cloud">
                            
                            Hetzner Cloud
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/hosting-digital-ocean.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-hosting-digital-ocean">
                            
                            DigitalOcean
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Using Docker</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/docker.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-docker">
                            
                            Docker
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/docker-compose.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-docker-compose">
                            
                            Docker Compose
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/kubernetes.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-kubernetes">
                            
                            Kubernetes
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/building-docker.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-building-docker">
                            
                            Build your image
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/docker-troubleshooting.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-docker-troubleshooting">
                            
                            Troubleshooting
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Setup with SSH</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/installation.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2  active" id="docnavi-installation">
                            
                            Installation
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/updates.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-updates">
                            
                            Updates
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/cache.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-cache">
                            
                            Reloading cache
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/plugin-management.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-plugin-management">
                            
                            Plugins
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Other setups</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/fresh-ubuntu-22.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-fresh-ubuntu-22">
                            
                            Ubuntu 22.04
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/webserver-configuration.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-webserver-configuration">
                            
                            Webserver
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/synology.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-synology">
                            
                            Synology NAS
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/shared-hosting.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-shared-hosting">
                            
                            Shared hosting
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/hosting-1-click.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-hosting-1-click">
                            
                            1-click installations
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">DevOps</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/backups.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-backups">
                            
                            Backups
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/local-yaml.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-local-yaml">
                            
                            Configuration files
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/emails.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-emails">
                            
                            Emails
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/logging.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-logging">
                            
                            Logging
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/commands.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-commands">
                            
                            Commands
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/faq-onpremise.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-faq-onpremise">
                            
                            FAQ
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/migration-v1.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-migration-v1">
                            
                            Migrate from Kimai v1
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/versions.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-versions">
                            
                            Kimai versions
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Authenticator</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/ldap.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-ldap">
                            
                            LDAP
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml">
                            
                            SAML
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml-azure.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml-azure">
                            
                            Azure SAML
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml-google.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml-google">
                            
                            Google SAML
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml-keycloak.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml-keycloak">
                            
                            Keycloak SAML
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml-authentik.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml-authentik">
                            
                            Authentik SAML
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/saml-adfs.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-saml-adfs">
                            
                            Microsoft ADFS
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Plugins</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/plugin-contract.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-plugin-contract">
                            
                            Working contract
                            
                        </a>
                        
                        
                    </div>
                    
                    <div class="list-group list-group-flush pb-3 mb-4 mx-n4">
                
                    <a href="/" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Kimai Home</a>
                    <a href="/en/site-notice.html" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Site notice</a>
                    <a href="/en/privacy-policy.html" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Privacy policy</a>
                </div>
            </div>
        </div>
    </div>
</aside>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        const dpm = document.getElementById('docnavi-installation');
        if (dpm !== null) {
            dpm.scrollIntoView({ behavior: "smooth", block: "end", inline: "nearest" });
        }
    });
</script>
<main class="docs-container pt-5">
    <div class="container-fluid px-xxl-5 px-lg-4 pt-4 pt-lg-5 pb-2 pb-lg-4">

        <div class="d-sm-flex align-items-end justify-content-between ps-lg-2 ps-xxl-0 mt-2 mt-lg-0 pt-4 mb-n3">
            <div class="me-4">
                <h1 class="pb-1">Installation</h1>
                
                <p class="text-muted fs-lg mb-2">How to install Kimai on your server with git, composer and SSH or FTP</p>
                
            </div>
            




    <div class="dropdown">
        <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Older versions
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
            
            <a class="dropdown-item" href="/documentation/1.14/installation.html">Kimai 1.14</a>
            
            
            <a class="dropdown-item" href="/documentation/installation.html">2.28.0 (latest version)</a>
        </div>
    </div>


        </div>

        <div class="markdown py-5 ps-lg-2 ps-xxl-0">
            <div>
                
                <div id="documentation-content">
                    
<div class="alert alert-danger d-flex" role="alert"><i class="bx bx-info-circle lead me-3"></i>
<p>You are viewing an older version of this documentation page. A newer version is available <a href="/documentation/installation.html">here</a>.</p>
</div>

<p>The recommended way to install Kimai is via SSH, you need GIT and <a href="https://getcomposer.org/doc/00-intro.md">Composer</a>.</p>

<h2 id="recommended-setup">Recommended setup</h2>

<p>To install Kimai in your production environment, connect with SSH to your server and change to your webservers (document) root directory.
You need to install Git and <a href="https://getcomposer.org/doc/00-intro.md">Composer</a> if you haven’t already.</p>

<p>First clone this repo (2.28.0 is the <a href="https://github.com/kimai/kimai/releases">latest stable release</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">-b</span> 2.28.0 <span class="nt">--depth</span> 1 https://github.com/kimai/kimai.git
<span class="nb">cd </span>kimai/
</code></pre></div></div>

<p>Now install all dependencies:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer <span class="nb">install</span> <span class="nt">--no-dev</span> <span class="nt">--optimize-autoloader</span> <span class="nt">-n</span>
</code></pre></div></div>

<p>Configure the database connection in the <code class="language-plaintext highlighter-rouge">.env</code> file:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DATABASE_URL=mysql://user:password@127.0.0.1:3306/database
</code></pre></div></div>

<p>And run the Kimai installer:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/console kimai:install <span class="nt">-n</span>
</code></pre></div></div>

<div class="alert alert-warning d-flex" role="alert"><i class="bx bx-alarm-exclamation lead me-3"></i>
<p>Windows users might have to prefix the composer and installation commands with <code class="language-plaintext highlighter-rouge">php</code>, eg.:<br />
<code class="language-plaintext highlighter-rouge">php bin/console kimai:install -n</code></p>
</div>

<h3 id="file-permissions">File permissions</h3>

<p>The webserver needs write permissions for several directories, so make sure the 
<a href="https://symfony.com/doc/current/setup/file_permissions.html">file permissions are correct</a>.</p>
<div class="card border-primary mb-3">
                       <p class="card-title bg-faded-primary p-1 mb-1"><strong><i class="bx bxs-info-circle ms-2 me-2 text-primary fs-5"></i>Adjust file permission</strong></p>
                       <div class="card-body card-note m-0 pt-3 px-3">
<p>You have to allow PHP (your webserver process) to write to <code class="language-plaintext highlighter-rouge">var/</code> and it subdirectories.</p>

<p>Here is an example for Debian/Ubuntu, to be executed inside the Kimai directory:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chown -R :www-data .
chmod -R g+r .
chmod -R g+rw var/
</code></pre></div></div>

<p>You might not need these commands in a shared-hosting environment.
And you probably need to prefix them with <code class="language-plaintext highlighter-rouge">sudo</code> and/or the group might be called different from <code class="language-plaintext highlighter-rouge">www-data</code>.</p>
</div>
                   </div>

<h3 id="create-your-first-user">Create your first user</h3>

<p>There are several options to create your first user:</p>

<ul>
  <li>via command: <code class="language-plaintext highlighter-rouge">bin/console kimai:create-user username admin@example.com ROLE_SUPER_ADMIN</code></li>
  <li>via login screen: you can register a user, the first one will be promoted to the role <code class="language-plaintext highlighter-rouge">ROLE_SUPER_ADMIN</code></li>
  <li>you can configure <a href="/documentation/ldap.html">LDAP</a> or <a href="/documentation/saml.html">SAML</a> for authentication</li>
</ul>

<p>If you are going to <a href="/documentation/migration-v1.html">import data from Kimai v1</a> choose a username &amp; email that was not used in v1.</p>

<h3 id="webserver">Webserver</h3>

<p>Configure your web server (like Nginx or Apache) to point its DocumentRoot at the <code class="language-plaintext highlighter-rouge">public/</code> directory.
For more details, see the <a href="/documentation/webserver-configuration.html">Webserver How-To</a>.</p>

<div class="alert alert-info d-flex" role="alert"><i class="bx bx-message-rounded-detail lead me-3"></i><p>Installation complete: enjoy time-tracking!</p>
</div>

<p>Oh … wait! Before you leave, please read the <a href="/documentation/initial-setup.html">initial setup guide</a>.</p>

<h2 id="docker">Docker</h2>

<p>There is a dedicated article about <a href="/documentation/docker.html">Docker setups</a> for Kimai, suitable for development and production.</p>

<h2 id="hosting-and-1-click-installations">Hosting and 1-click installations</h2>

<p>The following platforms adopted Kimai to be compatible with their one-click installation systems.</p>

<h3 id="yunohost">YunoHost</h3>

<p><a href="https://install-app.yunohost.org/?app=kimai2"><img src="https://install-app.yunohost.org/install-with-yunohost.png" alt="Install kimai2 with YunoHost" /></a></p>

<p>Kimai <a href="https://github.com/YunoHost-Apps/kimai2_ynh">package</a> for <a href="https://yunohost.org">YunoHost</a>.</p>

<h3 id="cloudron">Cloudron</h3>

<p><a href="https://cloudron.io">Cloudron</a> provides a secure and ready to use Kimai package, which will be kept up-to-date automatically.</p>

<p><a href="https://cloudron.io/button.html?app=org.kimai.cloudronapp"><img src="https://cloudron.io/img/button32.png" alt="Install Kimai with Cloudron" /></a></p>

<h3 id="vesta-control-panel">Vesta Control Panel</h3>

<p>Be aware that VestaCP uses the <code class="language-plaintext highlighter-rouge">admin</code> user instead of <code class="language-plaintext highlighter-rouge">www-data</code>. Replace the names in the permission commands above.
Read <a href="https://github.com/kimai/kimai/issues/743">this issue</a> if you have further questions.</p>

<h3 id="cloudjiffy">Cloudjiffy</h3>
<p><a href="https://cloudjiffy.com/">CloudJiffy</a> provides a scalable, hourly billed and easy to use PaaS platform and the setup of Kimai is <a href="https://cloudjiffy.com/blog/solutions/one-click-solutions/kimai-time-tracking-on-cloudjiffy">only a click of a button away</a>. Kimai is always deployed from the latest Github branch, thus you can rest easy that your software will always be up-to-date.</p>

<h2 id="shared-hosting">Shared hosting</h2>

<p>How to install Kimai at shared hosting companies. Please share our insights if you have managed to get it up and running with another company!</p>

<p>If you can’t find the correct version, ask your hoster! Or <a href="/store/installation-support.html">let us help you</a>.</p>

<h3 id="ionos--11">Ionos / 1&amp;1</h3>

<ul>
  <li>GIT is normally pre-installed and can be used via SSH</li>
  <li>composer has to be installed manually</li>
  <li>The default PHP version is often too low (PHP 5.x) - you can check that with <code class="language-plaintext highlighter-rouge">php -v</code>
    <ul>
      <li>If it is lower than 7.2, you have to prefix all commands with the proper version, eg. <code class="language-plaintext highlighter-rouge">/usr/bin/php7.3-cli</code> (even composer)</li>
      <li>Example composer: <code class="language-plaintext highlighter-rouge">/usr/bin/php7.3-cli composer.phar install --no-dev --optimize-autoloader</code></li>
      <li>Example installation: <code class="language-plaintext highlighter-rouge">/usr/bin/php7.3-cli bin/console kimai:install -n</code></li>
    </ul>
  </li>
</ul>

<h3 id="domainfactory">Domainfactory</h3>

<ul>
  <li>GIT is pre-installed and can be used via SSH</li>
  <li>composer has to be installed manually: <code class="language-plaintext highlighter-rouge">curl -sS https://getcomposer.org/installer | php7.3.5-cli</code></li>
  <li>The default PHP version is often too low (PHP 5.x or even PHP 4.x) - you can check that with <code class="language-plaintext highlighter-rouge">php -v</code>
    <ul>
      <li>If it is lower than 7.2, you have to prefix all commands with the proper version, eg. <code class="language-plaintext highlighter-rouge">php7.3.5-cli</code> (even composer)</li>
      <li>Example composer: <code class="language-plaintext highlighter-rouge">php7.3.5-cli composer.phar install --no-dev --optimize-autoloader</code></li>
      <li>Example installation: <code class="language-plaintext highlighter-rouge">php7.3.5-cli bin/console kimai:install -n</code></li>
    </ul>
  </li>
</ul>

<h3 id="strato">Strato</h3>

<p>Strato has a special setup of PHP, you need to find the proper version first.</p>

<ul>
  <li>PHP-Directory: <code class="language-plaintext highlighter-rouge">/opt/RZphp{major}{minor}/bin/php-cli</code> (Shared Hosting)</li>
  <li>PHP-Directory: <code class="language-plaintext highlighter-rouge">/usr/bin/php{major}{minor}</code> (Managed Server)</li>
</ul>

<p>For example, if you want to use PHP 7.3 use always the absolute path when running a PHP based command: so prefix all commands with eg. <code class="language-plaintext highlighter-rouge">/opt/RZphp73/bin/php-cli</code> in bash.</p>

<p>How to install Kimai:</p>
<ul>
  <li>Install composer: <code class="language-plaintext highlighter-rouge">curl -sS https://getcomposer.org/installer | /opt/RZphp73/bin/php-cli</code></li>
  <li>Clone Kimai as stated above and then <code class="language-plaintext highlighter-rouge">cd kimai</code></li>
  <li>Install composer packages with <code class="language-plaintext highlighter-rouge">/opt/RZphp73/bin/php-cli ../composer.phar install --no-dev --optimize-autoloader</code></li>
  <li>Configure your <code class="language-plaintext highlighter-rouge">.env</code> file, eg. with <code class="language-plaintext highlighter-rouge">nano .env</code></li>
  <li>Install Kimai database <code class="language-plaintext highlighter-rouge">/opt/RZphp73/bin/php-cli bin/console kimai:install -n</code></li>
</ul>

<p>Reload your configuration <code class="language-plaintext highlighter-rouge">/opt/RZphp73/bin/php-cli bin/console kimai:reload</code></p>

<h3 id="plesk">Plesk</h3>

<p>If a subdomain has not yet been added, login to the Plesk frontend and add a new
subdomain, e.g. kimai.my-domain.com. Use the database tab of the new subdomain
to create a new database for Kimai. Also check the selected PHP version for
this subdomain in the development-tools section of the subdomain.</p>

<p>Next, the actual installation needs to be done in the command line of the
webserver directly.</p>

<ul>
  <li>Login to the web server via SSH</li>
  <li>Locate the current PHP version. Plesk stores its PHP instances in the
directory <code class="language-plaintext highlighter-rouge">/opt/plesk/php</code>. Depending on which PHP version was configured for
Kimai subdomain, make sure to use this version during the installation. For
example, if using version 7.3, the path to PHP should be <code class="language-plaintext highlighter-rouge">/opt/plesk/php/7.3/bin/php</code>.</li>
  <li>Switch user to be “root” (otherwise access to Plesk subfolder is denied) with <code class="language-plaintext highlighter-rouge">su</code>.</li>
  <li>Navigate to the root folder where Plesk is hosting the websites from.
Typically, the root can be found at <code class="language-plaintext highlighter-rouge">/var/www/vhosts/&lt;domain_name&gt;</code>. For hosting
location on Windows, please refer to official <a href="https://docs.plesk.com/en-US/onyx/administrator-guide/web-hosting/website-directory-structure.68695/">Plesk documentation</a>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /var/www/vhosts/kimai.my-domain.com
</code></pre></div>    </div>
  </li>
  <li>Install composer: <code class="language-plaintext highlighter-rouge">curl -sS https://getcomposer.org/installer | /opt/plesk/php/7.3/bin/php</code></li>
  <li>Clone Kimai: <code class="language-plaintext highlighter-rouge">git clone -b 2.28.0 --depth 1 https://github.com/kimai/kimai.git</code></li>
  <li>Enter Kimai directory: <code class="language-plaintext highlighter-rouge">cd kimai</code></li>
  <li>Install composer packages: <code class="language-plaintext highlighter-rouge">/opt/plesk/php/7.3/bin/php ../composer.phar install --no-dev --optimize-autoloader</code></li>
  <li>Configure <code class="language-plaintext highlighter-rouge">.env</code> file to have correct database credentials</li>
  <li>Install Kimai database: <code class="language-plaintext highlighter-rouge">/opt/plesk/php/7.3/bin/php bin/console kimai:install -n</code></li>
  <li>Change ownership of <code class="language-plaintext highlighter-rouge">kimai</code> folder:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  cd ..
  chown -R psacln:psaserv kimai
  chmod -R g+r kimai
  chmod -R g+rw kimai/var/
  chmod -R g+rw kimai/public/avatars/
</code></pre></div>    </div>
  </li>
  <li>Switch user back to your normal user account (must not be root), e.g. ‘user’: <code class="language-plaintext highlighter-rouge">su -p user</code></li>
  <li>Reload caches:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  cd kimai
  bin/console kimai:reload --env=prod
</code></pre></div>    </div>
  </li>
  <li>Create first user: <code class="language-plaintext highlighter-rouge">bin/console kimai:create-user username admin@example.com ROLE_SUPER_ADMIN</code></li>
  <li>Adjust <a href="/documentation/webserver-configuration.html">Apache configuration</a>
to point to the “public” subfolder of the Kimai installation, i.e. set the path to
<code class="language-plaintext highlighter-rouge">/var/www/vhosts/my-domain.com/kimai/public</code>. Also ensure that <code class="language-plaintext highlighter-rouge">ServerName</code>
and <code class="language-plaintext highlighter-rouge">ServerAlias</code> are set to <code class="language-plaintext highlighter-rouge">kimai.my-domain.com</code> and <code class="language-plaintext highlighter-rouge">www.kimai.my-domain.com</code>.</li>
</ul>

<h3 id="netcup">Netcup</h3>

<ul>
  <li>Clone Kimai in the root folder as stated above and then <code class="language-plaintext highlighter-rouge">cd kimai</code></li>
  <li>Install composer: <code class="language-plaintext highlighter-rouge">curl -sS https://getcomposer.org/installer | /usr/bin/php</code></li>
  <li>Install dependencies: <code class="language-plaintext highlighter-rouge">php composer.phar install --no-dev --optimize-autoloader</code></li>
  <li>configure your .env file, eg. <code class="language-plaintext highlighter-rouge">nano .env</code></li>
  <li>install kimai: <code class="language-plaintext highlighter-rouge">php bin/console kimai:install -n</code></li>
  <li>reload config: <code class="language-plaintext highlighter-rouge">php bin/console kimai:reload</code></li>
  <li>Configure Netcup (using the customer controlpanel) to use “/kimai/public” as root folder for the domain (or subdomain) of your choice and add SSL (Letsencrypt) for this domain</li>
</ul>

<p>See issue <a href="https://github.com/kimai/kimai/issues/1620">#1620</a>.</p>

<h2 id="ftp-installation">FTP installation</h2>

<p>Installation via FTP is not supported. Kimai cannot be installed with FTP.</p>

<p>You have two choices:</p>
<ul>
  <li>get a proper webhosting/virtual server with SSH support</li>
  <li>use a <a href="https://www.kimai.cloud">SaaS time-tracking software</a></li>
</ul>

<h2 id="ansible">Ansible</h2>

<p><a href="https://www.webarchitects.coop/">Webarchitects Co-operative</a> have written a <a href="https://git.coop/webarch/kimai">Kimai Ansible Galaxy role</a> for automatically installing and upgrading Kimai sites on their shared hosting servers.</p>

<h2 id="kubernetes">Kubernetes</h2>

<p><a href="https://github.com/asterion-digital">Asterion Digital</a> have written a guide and automated process for <a href="https://github.com/asterion-digital/kimai-gcp-deployment">deploying Kimai on Kubernetes</a>.</p>

<p>The guide is specifically oriented towards Google Kubernetes Engine, however the <code class="language-plaintext highlighter-rouge">.yaml</code> resource definition files in the <code class="language-plaintext highlighter-rouge">/config</code> directory of the respository can be easily applied to any conformant kubernetes cluster by running <code class="language-plaintext highlighter-rouge">kubectl apply -f config/*.yaml</code> after cloning the repository.</p>

<h2 id="installation-faq">Installation FAQ</h2>

<h3 id="sqlstatehy000-2006-mysql-server-has-gone-away">SQLSTATE[HY000] [2006] MySQL server has gone away</h3>

<p>That usually means that your <code class="language-plaintext highlighter-rouge">DATABASE_URL</code> is wrong. You can run a command like <code class="language-plaintext highlighter-rouge">bin/console doctrine:schema:validate</code> to check, 
if the software can connect successfully to your database.</p>

<p>If that gives you the same error, it is configuration issue which you need to solve first, before you are able to install Kimai.</p>

<h3 id="malformed-parameter-url">Malformed parameter “url”</h3>

<p>If you see an error message like this, then you have a special character in your <code class="language-plaintext highlighter-rouge">DATABASE_URL</code>.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!!  
!!  In DriverManager.php line 259:
!!                                
!!    Malformed parameter "url".  
!!
</code></pre></div></div>
<p>This can be a character like <code class="language-plaintext highlighter-rouge">@</code> or <code class="language-plaintext highlighter-rouge">/</code> or some others, which need to be urlencoded. 
This can easily be done with one command, lets assume your password is <code class="language-plaintext highlighter-rouge">mG0/d1@3aT.Z)s</code> then you get your password like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php <span class="nt">-r</span> <span class="s2">"echo urlencode('mG0/d1@3aT.Z)s');"</span>
mG0%2Fd1%403aT.Z%29s
</code></pre></div></div>

<p>Then your <code class="language-plaintext highlighter-rouge">DATABASE_URL</code> might look like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DATABASE_URL=mysql://root:mG0%2Fd1%403aT.Z%29s@127.0.0.1:3306/kimai2
</code></pre></div></div>

<h3 id="which-user-to-use-www-data-httpd-or-your-own">Which user to use, www-data, httpd or your own?</h3>

<p>The installation instructions are intended primarily for server applications.</p>

<p>If you are installing Kimai on your personal computer - maybe for use in a local network, but where the computer primarily 
serves as a single user computer - you will avoid permission errors by substituting <code class="language-plaintext highlighter-rouge">www-data</code> in the relevant commands with your username.</p>

<p>In particular, <code class="language-plaintext highlighter-rouge">sudo -u www-data</code> is a command which grants the <code class="language-plaintext highlighter-rouge">www-data</code> user temporary administrator/super-user privileges). 
However, depending on the configuration of your particular computer, you may be able to avoid <code class="language-plaintext highlighter-rouge">sudo</code> altogether (your user 
may already have adequate permissions). Or your webserver user is not called <code class="language-plaintext highlighter-rouge">www-data</code> but <code class="language-plaintext highlighter-rouge">httpd</code>.</p>

<p>You can try first leaving <code class="language-plaintext highlighter-rouge">sudo -u www-data</code> altogether in the relevant commands. 
If you have permission errors, you can substitute it for <code class="language-plaintext highlighter-rouge">sudo -u $USER</code> in the relevant commands, where username is the 
username that runs the server - if you don’t know, it is likely your own username that you login with.</p>

<h4 id="chown--chmod-commands">chown &amp; chmod commands</h4>

<p>Further, <code class="language-plaintext highlighter-rouge">chown</code> and <code class="language-plaintext highlighter-rouge">chmod</code> commands should be for the username that runs the server instead of <code class="language-plaintext highlighter-rouge">www-data</code> (again, if you 
don’t know, it is likely your own username).</p>

<p>Also note that, depending on where you are installing Kimai and how your computer is configured, you may also receive 
“operation not permitted” errors when setting file permissions (<code class="language-plaintext highlighter-rouge">chown</code> and <code class="language-plaintext highlighter-rouge">chmod</code> commands). 
In that case, prefix them with <code class="language-plaintext highlighter-rouge">sudo</code>.</p>

<h3 id="troubleshoot">Troubleshoot</h3>

<h4 id="internal-server-error-500">Internal Server Error 500</h4>

<p>This error can have several causes. Here is a small summary what to check for if
this error occurs when trying to access the Kimai frontend:</p>

<ul>
  <li>There could be something wrong with your file permissions. Please check the
log <code class="language-plaintext highlighter-rouge">var/log/prod.log</code> in your installation directory.</li>
  <li>Make sure not to reload Kimai as <code class="language-plaintext highlighter-rouge">root</code> (e.g. via <code class="language-plaintext highlighter-rouge">bin/console kimai:reload
--env=prod</code>). The application will create folders and files. If <em>root</em> started
the process you most likely will have permission errors if the web-server is
not started as <code class="language-plaintext highlighter-rouge">root</code> as well. <a href="/documentation/cache.html">Fix file permissions</a>!</li>
</ul>

<h4 id="still-doesnt-work">Still doesn’t work?</h4>

<p>These infos were added to give you some possible guidance if you run into troubles. The Linux (and Mac) filesystem 
with its permission structure, especially when using server software, can be tricky and challenging.</p>

<p>But this has NOTHING to do with Kimai and we might not be able to help you in such situations … it is your system and 
responsibility, be aware that wrong permissions might break Kimai and can also lead to security problems.</p>



                </div>
                

                
            </div>
        </div>

    </div>
</main>


    <aside class="side-nav side-nav-end d-none d-xxl-block position-fixed top-0 end-0 vh-100 py-5" style="width: 20rem;">
        <h3 class="fs-lg mt-5 pt-5">Jump to</h3>
        <ul class="nav" id="jumpToNav"><li class="nav-item"><a href="#recommended-setup" class="nav-link">Recommended setup</a><ul><li class="nav-item"><a href="#file-permissions" class="nav-link">File permissions</a></li><li class="nav-item"><a href="#create-your-first-user" class="nav-link">Create your first user</a></li><li class="nav-item"><a href="#webserver" class="nav-link">Webserver</a></li></ul></li><li class="nav-item"><a href="#docker" class="nav-link">Docker</a></li><li class="nav-item"><a href="#hosting-and-1-click-installations" class="nav-link">Hosting and 1-click installations</a><ul><li class="nav-item"><a href="#yunohost" class="nav-link">YunoHost</a></li><li class="nav-item"><a href="#cloudron" class="nav-link">Cloudron</a></li><li class="nav-item"><a href="#vesta-control-panel" class="nav-link">Vesta Control Panel</a></li><li class="nav-item"><a href="#cloudjiffy" class="nav-link">Cloudjiffy</a></li></ul></li><li class="nav-item"><a href="#shared-hosting" class="nav-link">Shared hosting</a><ul><li class="nav-item"><a href="#ionos--11" class="nav-link">Ionos / 1&amp;1</a></li><li class="nav-item"><a href="#domainfactory" class="nav-link">Domainfactory</a></li><li class="nav-item"><a href="#strato" class="nav-link">Strato</a></li><li class="nav-item"><a href="#plesk" class="nav-link">Plesk</a></li><li class="nav-item"><a href="#netcup" class="nav-link">Netcup</a></li></ul></li><li class="nav-item"><a href="#ftp-installation" class="nav-link">FTP installation</a></li><li class="nav-item"><a href="#ansible" class="nav-link">Ansible</a></li><li class="nav-item"><a href="#kubernetes" class="nav-link">Kubernetes</a></li><li class="nav-item"><a href="#installation-faq" class="nav-link">Installation FAQ</a><ul><li class="nav-item"><a href="#sqlstatehy000-2006-mysql-server-has-gone-away" class="nav-link">SQLSTATE[HY000] [2006] MySQL server has gone away</a></li><li class="nav-item"><a href="#malformed-parameter-url" class="nav-link">Malformed parameter “url”</a></li><li class="nav-item"><a href="#which-user-to-use-www-data-httpd-or-your-own" class="nav-link">Which user to use, www-data, httpd or your own?</a></li><li class="nav-item"><a href="#troubleshoot" class="nav-link">Troubleshoot</a></li></ul></li></ul>
        
    </aside>



<a href="#top" class="btn-scroll-top" data-scroll>
    <span class="btn-scroll-top-tooltip text-muted fs-sm me-2">Top</span>
    <i class="btn-scroll-top-icon bx bx-chevron-up"></i>
</a>

<script src="/assets/build/main.js?v1"></script>

<script async defer src="https://sa.kimai.org/latest.js"></script>
<noscript><img src="https://sa.kimai.org/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>

</body>
</html>
