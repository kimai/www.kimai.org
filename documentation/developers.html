<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#4188c9">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="robots" content="index,follow">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.kimai.org/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.kimai.org/images/icon_32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.kimai.org/images/icon_16x16.png">
<title>Development environment â€“ Kimai</title>
<meta name="description" content="How to setup your local developer environment, tools and best practices">
<link type="application/atom+xml" rel="alternate" href="https://www.kimai.org/feed.xml" title="Kimai Time-Tracking" />
<meta property="og:locale" content="en">
<meta property="og:type" content="website">
<meta property="og:title" content="Kimai Time-Tracking">
<meta property="og:image" content="https://www.kimai.org/images/social-preview.webp">
<meta property="og:description" content="How to setup your local developer environment, tools and best practices">
<link rel="canonical" href="https://www.kimai.org/documentation/developers.html" />
<link href="/assets/build/main.css?v6" rel="stylesheet" />

</head>
<body class="">











<header class="header navbar navbar-expand bg-light border-bottom border-light shadow fixed-top" data-scroll-header>
    <div class="container-fluid pe-lg-4">
        <div class="d-flex align-items-center">
            <a href="/" class="navbar-brand flex-shrink-0 py-1 py-lg-2">
                <img src="/images/apple-touch-icon.png" width="32" alt="Kimai logo" class="me-2">
                Kimai Docs
            </a>
            <span class="badge bg-warning">Developer</span>
        </div>
        <div class="d-flex align-items-center w-100">
            <ul class="navbar-nav d-none d-lg-flex" style="padding-left: 6.75rem;">
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-manual.html" class="nav-link ">
                            <i class="bx bx-book opacity-70 fs-lg me-1"></i>
                            User manual
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/cloud.html" class="nav-link ">
                            <i class="bx bx-cloud opacity-70 fs-lg me-1"></i>
                            Kimai-Cloud
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-on-premise.html" class="nav-link ">
                            <i class="bx bx-server opacity-70 fs-lg me-1"></i>
                            On-Premise
                        </a>
                    </li>
                
                    
                    
                    <li class="nav-item">
                        <a href="/documentation/chapter-developer.html" class="nav-link  active">
                            <i class="bx bx-code-alt opacity-70 fs-lg me-1"></i>
                            Developer
                        </a>
                    </li>
                
            </ul>
            <button type="button" class="navbar-toggler d-block d-lg-none ms-auto me-4" data-bs-toggle="offcanvas" data-bs-target="#componentsNav" aria-controls="componentsNav" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<aside class="bg-dark">
    <div id="componentsNav" class="offcanvas-lg offcanvas-start d-flex flex-column position-fixed top-0 start-0 vh-100 bg-dark border-end-lg" style="width: 19rem; z-index: 1045;">
        <div class="offcanvas-header d-none d-lg-flex justify-content-start">
            <a href="/" class="navbar-brand d-none d-lg-flex py-0">
                <img src="/images/apple-touch-icon.png" width="26" alt="Kimai logo" class="me-3">
                Kimai Docs
            </a>
        </div>
        <div class="offcanvas-header d-block d-lg-none border-bottom">
            <div class="d-flex align-items-center justify-content-between mb-3">
                <h5 class="d-lg-none mb-0">Menu</h5>
                <button type="button" class="btn-close d-lg-none" data-bs-dismiss="offcanvas" data-bs-target="#componentsNav" aria-label="Close"></button>
            </div>
            <div class="list-group list-group-flush mx-n4">
                
                    
                    
                    <a href="/documentation/chapter-manual.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-book opacity-70 me-1"></i>
                        User manual
                    </a>
                
                    
                    
                    <a href="/documentation/cloud.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-cloud opacity-70 me-1"></i>
                        Kimai-Cloud
                    </a>
                
                    
                    
                    <a href="/documentation/chapter-on-premise.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-server opacity-70 me-1"></i>
                        On-Premise
                    </a>
                
                    
                    
                    <a href="/documentation/chapter-developer.html" class="list-group-item list-group-item-action d-flex align-items-center border-0 py-1 px-4">
                        <i class="bx bx-code-alt opacity-70 me-1"></i>
                        Developer
                    </a>
                
            </div>
        </div>
        <div class="offcanvas-body overflow-scroll w-100 p-4">
            <div class="h-auto docsnavi">
                
                    
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">JSON API</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/rest-api.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-rest-api">
                            
                            Kimai API
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/rest-api-examples.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-rest-api-examples">
                            
                            Examples
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/api-pagination.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-api-pagination">
                            
                            Pagination
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Create plugins</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/developers.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2  active" id="docnavi-developers">
                            
                            Development environment
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/extending-kimai.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-extending-kimai">
                            
                            Extending Kimai
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/plugins.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-plugins">
                            
                            Create plugins
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/translations.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-translations">
                            
                            Translations / i18n
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/meta-fields.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-meta-fields">
                            
                            Custom fields
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/theme.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-theme">
                            
                            Theme
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/store.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-store">
                            
                            Add to store
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/migration-v2.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-migration-v2">
                            
                            Migrate plugins to v2
                            
                        </a>
                        
                        
                    </div>
                    
                    
                    
                    <p class="fs-lg mb-1 text-white fw-bold">Technical background</p>
                    <div class="list-group list-group-flush mb-4 me-n4 border-start">
                        
                        
                        
                        
                        <a href="/documentation/bughunter.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-bughunter">
                            
                            Bughunter
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/permission-structure.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-permission-structure">
                            
                            Permission structure
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/sql-examples.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-sql-examples">
                            
                            SQL Examples
                            
                        </a>
                        
                        
                        
                        
                        
                        <a href="/documentation/redis.html" class="list-group-item ms-2 list-group-item-action border-0 ps-2 " id="docnavi-redis">
                            
                            Using Redis for caching
                            
                        </a>
                        
                        
                    </div>
                    
                    <div class="list-group list-group-flush pb-3 mb-4 mx-n4">
                
                    <a href="/" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Kimai Home</a>
                    <a href="/en/site-notice.html" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Site notice</a>
                    <a href="/en/privacy-policy.html" class="list-group-item list-group-item-action border-0 py-1 fs-sm px-4">Privacy policy</a>
                </div>
            </div>
        </div>
    </div>
</aside>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        const dpm = document.getElementById('docnavi-developers');
        if (dpm !== null) {
            dpm.scrollIntoView({ behavior: "smooth", block: "end", inline: "nearest" });
        }
    });
</script>
<main class="docs-container pt-5">
    <div class="container-fluid px-xxl-5 px-lg-4 pt-4 pt-lg-5 pb-2 pb-lg-4">

        <div class="d-sm-flex align-items-end justify-content-between ps-lg-2 ps-xxl-0 mt-2 mt-lg-0 pt-4 mb-n3">
            <div class="me-4">
                <h1 class="pb-1">Development environment</h1>
                
                <p class="text-muted fs-lg mb-2">How to setup your local developer environment, tools and best practices</p>
                
            </div>
            




    <div class="dropdown">
        <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Older versions
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
            
            <a class="dropdown-item" href="/documentation/1.14/developers.html">Kimai 1.14</a>
            
            
            <a class="dropdown-item" href="/documentation/developers.html">2.40.0 (latest version)</a>
        </div>
    </div>


        </div>

        <div class="markdown py-5 ps-lg-2 ps-xxl-0">
            <div>
                
                <div id="documentation-content">
                    <p>This page is for all developers who want to contribute to Kimai. You rock!</p>

<h1 id="setting-up-your-environment">Setting up your environment</h1>

<p>All you need is:</p>

<ul>
  <li>a recent PHP version, best is 8.3+</li>
  <li>some standard PHP extensions, see composer file for more infos</li>
  <li>a MariaDB 11.1+ or MySQL 8.3+ instance</li>
  <li><a href="https://getcomposer.org/download/">Composer</a> and <code class="language-plaintext highlighter-rouge">git</code></li>
</ul>

<h2 id="development-installation">Development installation</h2>

<p>Clone the repository and install all dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/kimai/kimai.git
<span class="nb">cd </span>kimai/
composer <span class="nb">install</span>
</code></pre></div></div>

<p>You need to change your environment to <code class="language-plaintext highlighter-rouge">dev</code> and configure your database connection in your <code class="language-plaintext highlighter-rouge">.env</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>APP_ENV=dev
DATABASE_URL=mysql://user:password@127.0.0.1:3306/database?charset=utf8mb4&amp;serverVersion=8.3.0
</code></pre></div></div>

<p>The next command will import demo data, to test the application in its full beauty - with different user accounts,
customers, projects, activities and several thousand timesheet records. Letâ€™s bootstrap your database
(command only available in <code class="language-plaintext highlighter-rouge">dev</code> environment):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/console kimai:reset:dev
</code></pre></div></div>

<p>Almost there!</p>

<p>Now you need to start a web server and can access Kimai in your browser.
Its totally up to you how to achieve that, I can recommend the <a href="https://symfony.com/doc/current/setup/symfony_server.html">Symfony local webserver</a>
(it is fast and supports local https setup):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>symfony serve <span class="nt">--port</span><span class="o">=</span>8010
</code></pre></div></div>

<p>You can now log in with these accounts:</p>

<table class="table">
  <thead>
    <tr>
      <th>Username</th>
      <th style="text-align: center">Password</th>
      <th style="text-align: center">API Key</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>clara_customer</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>Customer</td>
    </tr>
    <tr>
      <td>john_user</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>User</td>
    </tr>
    <tr>
      <td>chris_user</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>User (deactivated)</td>
    </tr>
    <tr>
      <td>tony_teamlead</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>Teamlead</td>
    </tr>
    <tr>
      <td>anna_admin</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>Administrator</td>
    </tr>
    <tr>
      <td>susan_super</td>
      <td style="text-align: center">password</td>
      <td style="text-align: center">token</td>
      <td>Super-Administrator</td>
    </tr>
  </tbody>
</table>

<p>Demo data can always be deleted by dropping the schema and re-creating it.
The <code class="language-plaintext highlighter-rouge">kimai:reset:dev</code> command will do that automatically and can always be executed later on to reset your dev database and cache.</p>

<p>If you want to test with an empty installation, erase the database and re-create an empty schema:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/console doctrine:schema:drop <span class="nt">--force</span>
bin/console doctrine:schema:create
</code></pre></div></div>

<h2 id="frontend-dependencies">Frontend dependencies</h2>

<p>If you want to make changes to CSS / Javascript, you need:</p>

<ul>
  <li><a href="https://www.npmjs.com/">NodeJS</a></li>
  <li><a href="https://yarnpkg.com/en/">Yarn Package Manager</a></li>
  <li><a href="https://webpack.js.org/">Webpack</a></li>
  <li><a href="https://github.com/symfony/webpack-encore">Webpack Encore</a></li>
</ul>

<p>Please <a href="https://yarnpkg.com/lang/en/docs/install/">install Yarn for your OS</a> and then:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn <span class="nb">install</span>
</code></pre></div></div>

<p>To rebuild all assets you have to execute:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn run prod
</code></pre></div></div>

<p>You can find more information <a href="https://symfony.com/doc/current/frontend/encore/installation.html">here</a> and <a href="https://symfony.com/doc/current/frontend.html">here</a>.</p>

<h2 id="localyaml">local.yaml</h2>

<p>Beware: if you use the <a href="/documentation/local-yaml.html">local.yaml</a> then donâ€™t put it
in <code class="language-plaintext highlighter-rouge">config/packages/</code> as all configs in there are used when running the PHPUnit testsuite.</p>

<p>The (integration) tests are written to work with the default configuration of Kimai and locally changed configs might unexpectedly break the tests.</p>

<p>Therefor put your <code class="language-plaintext highlighter-rouge">local.yaml</code> into the <code class="language-plaintext highlighter-rouge">dev/</code> folder: <code class="language-plaintext highlighter-rouge">config/packages/dev/local.yaml</code>.</p>

<h2 id="tests-suites-with-phpunit">Tests suites with PHPUnit</h2>

<p>Kimai tries to adopt a high test and code coverage. Whenever changing code, you have to make sure
that the tests are still running. New code needs additional tests, otherwise your pull request might be declined.</p>

<p>You can run the unit and integration tests with built-in commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer kimai:tests-unit
composer kimai:tests-integration
</code></pre></div></div>

<p>Or you simply run all tests with one of:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">composer kimai:tests</code></li>
  <li><code class="language-plaintext highlighter-rouge">vendor/bin/phpunit</code></li>
</ul>

<h2 id="static-code-analysis-via-phpstan">Static code analysis via PHPStan</h2>

<p>Besides automated tests Kimai relies on PHPStan to detect code problems.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer kimai:phpstan
</code></pre></div></div>

<h2 id="coding-styles">Coding styles</h2>

<p>You can run the code sniffer with the built-in command like that:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer kimai:codestyle
</code></pre></div></div>

<p>And you can also automatically fix the violations by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer kimai:codestyle-fix
</code></pre></div></div>

<p>Be aware that this command will modify all files with violations in the directories <code class="language-plaintext highlighter-rouge">src/</code> and <code class="language-plaintext highlighter-rouge">tests/</code>, so its a good idea to commit first.</p>

<p>Kimai code-styles are configured in <a href="https://github.com/kimai/kimai/blob/main/.php_cs.dist">.php_cs.dist</a>.</p>

                </div>
                

                
            </div>
        </div>

    </div>
</main>


    <aside class="side-nav side-nav-end d-none d-xxl-block position-fixed top-0 end-0 vh-100 py-5" style="width: 20rem;">
        <h3 class="fs-lg mt-5 pt-5">Jump to</h3>
        <ul class="nav" id="jumpToNav"><li class="nav-item"><a href="#development-installation" class="nav-link">Development installation</a></li><li class="nav-item"><a href="#frontend-dependencies" class="nav-link">Frontend dependencies</a></li><li class="nav-item"><a href="#localyaml" class="nav-link">local.yaml</a></li><li class="nav-item"><a href="#tests-suites-with-phpunit" class="nav-link">Tests suites with PHPUnit</a></li><li class="nav-item"><a href="#static-code-analysis-via-phpstan" class="nav-link">Static code analysis via PHPStan</a></li><li class="nav-item"><a href="#coding-styles" class="nav-link">Coding styles</a></li></ul>
        
    </aside>



<a href="#top" class="btn-scroll-top" data-scroll>
    <span class="btn-scroll-top-tooltip text-muted fs-sm me-2">Top</span>
    <i class="btn-scroll-top-icon bx bx-chevron-up"></i>
</a>

<script src="/assets/build/main.js?v1"></script>

<script async defer src="https://sa.kimai.org/latest.js"></script>
<noscript><img src="https://sa.kimai.org/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>

</body>
</html>
