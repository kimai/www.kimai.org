---
title: Expenses plugin for Kimai 2
name: Expenses  plugin
intro: "Keep track of your expenses and include them in your invoices."
developer: keleo
date: "2019-09-14 10:00:00 +0200"
icon: fas fa-money-check
price: "49€"
version: 1.0
screenshot: 
  - /images/marketplace/expenses-screenshot.png
  - /images/marketplace/expenses-categories.png
  - /images/marketplace/expenses-search.png
  - /images/marketplace/expenses-create.png
gumroad: kimai2-expenses
featured: Keep track of your expenses based on customer, project and activity. These spendings can be categorized and included in your invoices.  
new: true
tags:
  - plugin
---

A Kimai 2 plugin, which allows to keep track of your expenses based on customer, project and activity.
These spendings can be categorized and included in your invoices (generated by Kimai).

You can test it in the ["Plugins" demo](https://www.kimai.org/demo/).

## Features

- Record all your expenses and show them in a table view
  - The data can be searched- and filtered (see screenshots)  
- All (refundable) expenses will be automatically included in your invoices

Expenses are sorted into free configurable categories, which consist of:
- a name 
- visibility flag

Each expense is linked to a:
- category 
- user 
- project (and customer)
- activity

... and has also the following fields:
- a begin date
- an end date (eg. for staying overnight)
- a free description
- the sum (cost / expense)
- a multiplier (if you want to charge your customer a higher sum, increase this eg. from 1.0 to 1.3)
- a flag whether this expense is refundable (non-refundable will not be added to your invoices)
- an export flag, to make sure each expense is invoiced only once

## Purchase

{% include store-gumroad-and-support.html %}

## Installation

This plugin is compatible with Kimai 2, v1.3 and higher.

### Copy the files 

Extract the ZIP file and upload the included directory and all files to your Kimai installation to the new directory:  
`var/plugins/ExpensesBundle/`

The file structure needs to like like this afterwards:

```
var/plugins/
├── ExpensesBundle
│   ├── ExpensesBundle.php
|   └ ... more files and directories follow here ... 
```
### Rebuild the cache

After uploading the files, Kimai needs to know about the new plugin. It will be found, once the cache was re-built:

```
cd kimai2/
bin/console cache:clear --env=prod
bin/console cache:warmup --env=prod
```

### Install the bundle database

Run the following command:

```bash
bin/console kimai:bundle:expenses:install
```

This will install all required databases.

## Updating the plugin

Updating the bundle works the same way as the installation does. 

- Delete the directory `var/plugins/MetaFieldsBundle/` (to remove deleted files)
- Execute all installation steps again:
  - Copy files
  - Clear cache
  - Update database with `bin/console kimai:bundle:metafields:install` 

### First test

When logged in as `SUPER_ADMIN`, you will now see the expenses administration screen at `/en/expenses/`.

If this was successful, you can now think about giving permissions to other users as well.

### Setup categories

Before you can start tracking expenses, you will have to create at least one visible category. 
You will be redirected to the category creation screen if Kimai doesn't find one. 

## Permissions

This bundle ships a new administration screen, which will be available for the following users:

- `ROLE_SUPER_ADMIN` - every super administrator
- `view_expense` - allows to see the new expenses screen
- `edit_expense` - allows to edit existing expenses
- `create_expense` - allows to create new expenses
- `delete_expense` - allows to delete existing expenses
- `manage_expense_category` - manage the expense categories 

You can add the new permissions to your [local.yml](https://www.kimai.org/documentation/configurations.html). 
For more information, read the [permissions](https://www.kimai.org/documentation/permissions.html) documentation.

```yaml
    permissions:
        roles:
            ROLE_ADMIN: ['view_expense', 'edit_expense', 'create_expense', 'delete_expense', 'manage_expense_category']
            ROLE_TEAMLEAD: ['view_expense', 'edit_expense', 'create_expense']
            ROLE_USER: ['view_expense', 'create_expense']
```
 
After changing the permissions, you need to clear the cache one more time.

## Screenshots

The overview page of all expenses:

![Screenshot](https://www.kimai.org/images/marketplace/expenses-screenshot.png)

The category management:

![Screenshot](https://www.kimai.org//images/marketplace/expenses-categories.png)

You can search through all existing expense records:

![Screenshot](https://www.kimai.org/images/marketplace/expenses-search.png)

When creating a new expense, you can record the following fields:

![Screenshot](https://www.kimai.org/images/marketplace/expenses-create.png)
